<!DOCTYPE html><html><head>
  <title>MODULOPT</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="file:////Users/jeanlucemmanuelverhanneman/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.6.1/node_modules/@shd101wyy/mume/dependencies/katex/katex.min.css">









  <style>
  /**
* prism.js Github theme based on GitHub's theme.
* @author Sam Clarke
*/
code[class*="language-"],
pre[class*="language-"] {
color: #333;
background: none;
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
text-align: left;
white-space: pre;
word-spacing: normal;
word-break: normal;
word-wrap: normal;
line-height: 1.4;

-moz-tab-size: 8;
-o-tab-size: 8;
tab-size: 8;

-webkit-hyphens: none;
-moz-hyphens: none;
-ms-hyphens: none;
hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
padding: .8em;
overflow: auto;
/* border: 1px solid #ddd; */
border-radius: 3px;
/* background: #fff; */
background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
padding: .1em;
border-radius: .3em;
white-space: normal;
background: #f5f5f5;
}

.token.comment,
.token.blockquote {
color: #969896;
}

.token.cdata {
color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
color: #795da3;
}

.token.entity {
cursor: help;
}

.token.title,
.token.title .token.punctuation {
font-weight: bold;
color: #1d3e81;
}

.token.list {
color: #ed6a43;
}

.token.inserted {
background-color: #eaffea;
color: #55a532;
}

.token.deleted {
background-color: #ffecec;
color: #bd2c00;
}

.token.bold {
font-weight: bold;
}

.token.italic {
font-style: italic;
}


/* JSON */
.language-json .token.property {
color: #183691;
}

.language-markup .token.tag .token.punctuation {
color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
color: #63a35c;
}

code.language-yaml {
color: #183691;
}

/* Ruby */
.language-ruby .token.function {
color: #333;
}

/* Markdown */
.language-markdown .token.url {
color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
color: #795da3;
}

.language-makefile .token.variable {
color: #183691;
}

.language-makefile .token.builtin {
color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
color: #0086b3;
}

/* highlight */
pre[data-line] {
position: relative;
padding: 1em 0 1em 3em;
}
pre[data-line] .line-highlight-wrapper {
position: absolute;
top: 0;
left: 0;
background-color: transparent;
display: block;
width: 100%;
}

pre[data-line] .line-highlight {
position: absolute;
left: 0;
right: 0;
padding: inherit 0;
margin-top: 1em;
background: hsla(24, 20%, 50%,.08);
background: linear-gradient(to right, hsla(24, 20%, 50%,.1) 70%, hsla(24, 20%, 50%,0));
pointer-events: none;
line-height: inherit;
white-space: pre;
}

pre[data-line] .line-highlight:before,
pre[data-line] .line-highlight[data-end]:after {
content: attr(data-start);
position: absolute;
top: .4em;
left: .6em;
min-width: 1em;
padding: 0 .5em;
background-color: hsla(24, 20%, 50%,.4);
color: hsl(24, 20%, 95%);
font: bold 65%/1.5 sans-serif;
text-align: center;
vertical-align: .3em;
border-radius: 999px;
text-shadow: none;
box-shadow: 0 1px white;
}

pre[data-line] .line-highlight[data-end]:after {
content: attr(data-end);
top: auto;
bottom: .4em;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;background-color:#f0f0f0;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

  </style>
</head>
<body for="html-export">
  <div class="mume markdown-preview  ">
  <style>
.parent {
display: grid;
grid-template-columns: repeat(5, 1fr);
grid-template-rows: 1fr;
grid-column-gap: 5px;
grid-row-gap: 0px;
}

.div1 {
display: grid;
max-width: 200pt;
background: #333;
vertical-align: middle;
text-align: center;
border-radius: 5px;
grid-area: 1 / 1 / 2 / 3;
}
.div2 {
vertical-align:middle;
grid-area: 1 / 3 / 2 / 6;
}

blockquote.danger {
background: salmon;
color: firebrick;
border-left-color: red;
}

blockquote.info {
background: #dfefff;
border-left-color: #cfe0fb;
}

blockquote.idea {
background: antiquewhite;
border-left-color: goldenrod;
}

blockquote.withIcon::before {
text-align: center;
display: inline-block;
margin: 5px;
font-size: 1.5em;
}

blockquote.danger::before {
content: "‚ùó";
}

blockquote.idea::before{
content: "üí°"
}

blockquote.info::before {
content: "üìù";

}

</style>
<p><img id="module-logo" src="https://raw.githubusercontent.com/ManuUseGitHub/modulopt/master/logo.svg"></p><div class="parent"><div class="div1"><span style="    font-size: 16pt;color: lightgrey;place-self: center;">Modul &#xB0;/o pt</span></div><div class="div2">  <a href="https://badge.fury.io/js/modulopt"><img src="https://badge.fury.io/js/modulopt.svg" alt="npm version"></a> <a href="https://travis-ci.com/ManuUseGitHub/modulopt"><img src="https://app.travis-ci.com/ManuUseGitHub/modulopt.svg?branch=master" alt="Build Status"></a>  <a href="https://coveralls.io/github/ManuUseGitHub/modulopt"><img src="https://coveralls.io/repos/github/ManuUseGitHub/modulopt/badge.svg" alt="Coverage Status"></a> <img src="https://img.shields.io/github/issues/ManuUseGitHub/modulopt" alt="GitHub issues"> <a href="https://codeclimate.com/github/ManuUseGitHub/modulopt/maintainability"><img src="https://api.codeclimate.com/v1/badges/e3c7a4af56202c0f5669/maintainability" alt="Maintainability"></a> <img src="https://img.shields.io/codeclimate/tech-debt/ManuUseGitHub/modulopt" alt="Code Climate technical debt"> <img src="https://img.shields.io/npm/dm/modulopt.svg" alt="NPM Downloads"> <a href="https://github.com/ManuUseGitHub/modulopt/blob/master/LICENSE"><img src="https://img.shields.io/badge/License-MIT-61dafb.svg" alt="License: MIT"></a></div><p></p>
</div>
<h1 class="mume-header" id="0-purpose">0. Purpose</h1>

<p>Any good product delivered on a large scale should provide good quality for the service it gives or the problem it is in charge to solve. To ensure a maximum quality level, services should also cover as many as possible use-cases by providing options in the input.</p>
<p>The downside of designing powerful option management is quite time-consuming. Moreover, there is no clear formalism defined or convention about any option design other than: &quot;An option has to be optional and if not specified in the input, that option has to keep the default value&quot;.</p>
<p>The philosophy of this module is to ease the pain of designing option management. In response to &quot;how can I design that?&quot; it answers by saying: <strong>&quot;You don&apos;t have to, I got you covered&quot;</strong>.</p>
<p><a href="#11-getting-started">Getting started</a></p>
<hr>
<p>Links: <a href="https://github.com/ManuUseGitHub/modulopt">GIT REPO</a> | <a href="https://www.npmjs.com/package/modulopt">NPM</a> | <a href="https://modulopt-doc.herokuapp.com">DOCUMENTATION</a> | <a href="https://raw.githubusercontent.com/ManuUseGitHub/modulopt/master/LICENSE">MIT LICENSE</a></p>
<hr>
<p><strong>Table of Contents:</strong></p>
<ul>
<li><a href="#0-purpose">0. Purpose</a></li>
<li><a href="#1-module">1. Module</a>
<ul>
<li><a href="#11-getting-started">1.1 Getting started</a></li>
<li><a href="#12-getting-to-use">1.2 Getting to use</a></li>
</ul>
</li>
<li><a href="#2-delivered">2. Delivered</a>
<ul>
<li><a href="#21-features">2.1 Features</a></li>
<li><a href="#22-noticeable-changes">2.2 Noticeable changes</a></li>
<li><a href="#23-demo">2.3 Demo</a></li>
</ul>
</li>
<li><a href="#3-documentation">3. Documentation</a>
<ul>
<li><a href="#31-option">3.1 Option</a></li>
<li><a href="#32-definition">3.2 Definition</a>
<ul>
<li><a href="#321-structure">3.2.1 Structure</a>
<ul>
<li><a href="#3211-cardinality-12">3.2.1.1 Cardinality 1:2</a></li>
<li><a href="#3212-cardinality-1m">3.2.1.2 Cardinality 1:M</a></li>
<li><a href="#3213-cardinality-1%CA%83t">3.2.1.3 Cardinality 1:&#x1A9;(T)</a>
<ul>
<li><a href="#workaround">Workaround</a></li>
</ul>
</li>
<li><a href="#3214-cardinality-1n">3.2.1.4 Cardinality 1:N</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#33-default-behaviors">3.3 Default behaviors</a></li>
<li><a href="#34-4miss-behaviors">3.4 4Miss behaviors</a>
<ul>
<li><a href="#341-example">3.4.1 Example</a></li>
</ul>
</li>
<li><a href="#35-advanced-modulopt-generated-configuration">3.5 [ ADVANCED ] Modulopt generated configuration</a>
<ul>
<li><a href="#351-masks">3.5.1 Masks</a>
<ul>
<li><a href="#3511-conventions-and-restrictions">3.5.1.1 Conventions and restrictions</a></li>
<li><a href="#3512-example">3.5.1.2 Example</a></li>
<li><a href="#3513-dots-and-digits-of-a-mask">3.5.1.3 Dots and digits of a mask</a></li>
<li><a href="#3514-boolean-options-cases">3.5.1.4 Boolean options cases</a></li>
<li><a href="#3515-multichoices-options-cases">3.5.1.5 Multichoices options cases</a></li>
</ul>
</li>
<li><a href="#352-check-on-masks-registration">3.5.2 Check on masks registration</a></li>
</ul>
</li>
<li><a href="#36-modulopt-property">3.6 Modulopt property</a>
<ul>
<li><a href="#361-optionsoffset">3.6.1 OptionsOffset</a></li>
<li><a href="#362-masks">3.6.2 Masks</a></li>
<li><a href="#363-logs">3.6.3 Logs</a></li>
<li><a href="#364-free">3.6.4 Free</a></li>
<li><a href="#365-defaults">3.6.5 Defaults</a></li>
<li><a href="#367-config-and-options">3.6.7 Config and options</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 class="mume-header" id="1-module">1. Module</h1>

<p>This is the most little you need to know to set up and go.</p>
<h2 class="mume-header" id="11-getting-started">1.1 Getting started</h2>

<ol>
<li><strong>Install the package.</strong><pre data-role="codeBlock" data-info="bash" class="language-bash">$ <span class="token function">npm</span> i modulopt
</pre></li>
<li><strong>Require.</strong><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> optionize <span class="token punctuation">,</span> stick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">&quot;modulopt/dist&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token keyword keyword-const">const</span> <span class="token punctuation">{</span> optionize <span class="token punctuation">,</span> stick <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span> <span class="token string">&quot;modulopt&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
<li><strong>Break down your options in an array of definitions :</strong><br>
The definitions are small arrays following simple rules. See the <strong><a href="#31-option">option</a></strong> section to know how to write every <strong><a href="#32-definition">definition</a></strong> and their <strong><a href="#321-structure">structure</a></strong> in details. You can still follow this example covering most of the cases:<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Example:</span>
<span class="token keyword keyword-const">const</span> definitions <span class="token operator">=</span> <span class="token punctuation">[</span>

<span class="token comment">// boolean option , &lt;true&gt; being the default value</span>
<span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// another boolean option , &lt;false&gt; being the default value</span>
<span class="token punctuation">[</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// a multichoice option , &lt;&quot;none&quot;&gt; being the default value</span>
<span class="token punctuation">[</span> <span class="token string">&quot;level&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;none&quot;</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">&quot;normal&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;intermediate&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;hard&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// another multichoice option , &lt;&quot;no&quot;&gt; being the default value</span>
<span class="token punctuation">[</span> <span class="token string">&quot;sort&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;no&quot;</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">&quot;asc&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;dsc&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// a free option, &lt;null&gt; being the default value</span>
<span class="token punctuation">[</span> <span class="token string">&quot;obj&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// a half-free option accepting only numbers , &lt;0&gt; being the default value</span>
<span class="token punctuation">[</span> <span class="token string">&quot;numbr&quot;</span> <span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// a half-free option accepting only strings , &lt;&quot;hello world&quot;&gt; being the default value</span>
<span class="token punctuation">[</span> <span class="token string">&quot;str&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;hello world&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// a chimerical multichoice, &lt;null&gt; being the default value, the values being of different types</span>
<span class="token punctuation">[</span> <span class="token string">&quot;blastval&quot;</span> <span class="token punctuation">,</span> <span class="token keyword null nil keyword-null">null</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token number">5</span> <span class="token punctuation">,</span> <span class="token string">&quot;pi&quot;</span> <span class="token punctuation">,</span> <span class="token keyword keyword-void">void</span> <span class="token number">0</span> <span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// OPTIONAL modulopt configuration : WILL NOT BE PART OF GENERATED OPTIONS</span>
<span class="token punctuation">[</span><span class="token string">&quot;modulopt&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre></li>
<li><strong>Call optionize on your object.</strong>
<ul>
<li>Within your own module or soft</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">optionize</span><span class="token punctuation">(</span> <span class="token keyword keyword-this">this</span> <span class="token punctuation">,</span> definitions <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>Or passing your object</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> mySoft <span class="token operator">=</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">MySoft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">optionize</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> definitions <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><strong>Congratulations &#x1F601; !</strong><br>
You are good to go! See the next section and be <a href="#12-getting-to-use">getting to use it</a>. <strong>Let&apos;s Rock !!!</strong></li>
</ol>
<h2 class="mume-header" id="12-getting-to-use">1.2 Getting to use</h2>

<p>Now that you have called the <code>optionize</code> function on your object, you can call <code>stick</code> to stick values for options you have defined :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// These options + values came from nowhere but they display how it works somehow</span>
<span class="token keyword keyword-const">const</span> mySetup <span class="token operator">=</span> <span class="token punctuation">{</span> _let <span class="token operator">:</span> <span class="token string">&quot;s be&quot;</span><span class="token punctuation">,</span> honest <span class="token operator">:</span> <span class="token string">&quot;this is&quot;</span><span class="token punctuation">,</span> simple <span class="token operator">:</span> <span class="token string">&quot;as crazy !&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> mySetup <span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token method function property-access">letsRock</span><span class="token punctuation">(</span> <span class="token string">&quot;baby&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><blockquote class="info withIcon">
After <code>stick</code> is called, you can directly chain a call to your services.
<code>stick</code> returns the reference of MySoft. We presumed that the method/function <code>letsRock</code> is part of the class MySoft.
</blockquote>
<ul>
<li>
<p><strong>Make your options choices.</strong></p>
<ul>
<li>Use a madeup object <code>mySetup</code> as the options you want to set.</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> mySetup <span class="token operator">=</span> <span class="token punctuation">{</span> bar <span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">,</span> sort <span class="token operator">:</span> <span class="token string">&apos;asc&apos;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> mySetup <span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token method function property-access">doCoolStuffs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>Or use a mask string according to your options.</li>
</ul>
<blockquote class="idea withIcon">
You should not mind this possibility if you do not understand it yet. Go on. Or else,
see <b><a href="#35-advanced-modulopt-generated-configuration">[ ADVANCED ] Modulopt generated configuration / Masks</a></b> section below.
</blockquote>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> mySetup <span class="token operator">=</span> <span class="token string">&quot;0000.0021&quot;</span><span class="token punctuation">;</span>

<span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> mySetup <span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token method function property-access">workSmartNotHard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><ul>
<li>Or use both a mask string and an object.</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> mySetup1 <span class="token operator">=</span> <span class="token punctuation">{</span>
level <span class="token operator">:</span> <span class="token string">&quot;hard&quot;</span> <span class="token punctuation">,</span>
sort <span class="token operator">:</span> <span class="token string">&quot;asc&quot;</span><span class="token punctuation">,</span>
blastval <span class="token operator">:</span> <span class="token string">&quot;pi&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> mySetup2 <span class="token operator">=</span> <span class="token string">&quot;0000.0021&quot;</span><span class="token punctuation">;</span>

<span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> mySetup1 <span class="token punctuation">,</span> mySetup2 <span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token method function property-access">yellHowCoolYouAre</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
<li>
<p><strong>Access the options configuration.</strong></p>
<ul>
<li>Within MySoft class</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> barOption <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">options</span><span class="token punctuation">.</span><span class="token property-access">bar</span><span class="token punctuation">;</span>
</pre><ul>
<li>Outside MySoft class</li>
</ul>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> barOption <span class="token operator">=</span> mySoft<span class="token punctuation">.</span><span class="token property-access">options</span><span class="token punctuation">.</span><span class="token property-access">bar</span><span class="token punctuation">;</span>
</pre></li>
<li>
<p><strong>Access the defaults of modulopt generated configuration.</strong></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> defaults <span class="token operator">=</span> <span class="token keyword keyword-this">this</span><span class="token punctuation">.</span><span class="token property-access">modulopt</span><span class="token punctuation">.</span><span class="token property-access">defaults</span><span class="token punctuation">;</span>
</pre></li>
</ul>
<h1 class="mume-header" id="2-delivered">2. Delivered</h1>

<h2 class="mume-header" id="21-features">2.1 Features</h2>

<ul>
<li>adds an <code>options</code> property with your ready to use options.</li>
<li>handle mismatching options (defaults etc.).</li>
<li>set options on the go easily.</li>
<li>adds a <code>modulopt</code> property with
<ul>
<li><code>config</code> : generated using modulopt generation.</li>
<li><code>defaults</code> : with the default values.</li>
<li><code>logs</code> : for modulopt silent debugging.</li>
<li>...</li>
</ul>
</li>
<li>reset modulopt logs</li>
<li>flexibility</li>
</ul>
<h2 class="mume-header" id="22-noticeable-changes">2.2 Noticeable changes</h2>

<ul>
<li>2.1.0
<ul>
<li>modulopt constants</li>
<li><strong><a href="#34-4miss-behaviors">4Miss</a></strong> Interactions: whenever an option mismatches a defined name or a proposition is misspelled or even a free option containing a structured object has a mysterious application.</li>
</ul>
</li>
<li>2.0.0
<ul>
<li>The service is provided by Modulopt Object</li>
<li>Modulopt config for a generation: mismatch handling, option order while generated. <code>modulopt</code> special definition</li>
<li>Logging</li>
<li>Chimerical cases</li>
<li>Set Options via multiple inputs (string and object)</li>
</ul>
</li>
<li>1.0.0
<ul>
<li>Default management</li>
<li>Use of <code>.options</code> to get access to options</li>
<li><code>modulopt</code> property on the desired object</li>
<li>Masks usage.</li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="23-demo">2.3 Demo</h2>

<p><a href="https://runkit.com/manuusegithub/modulopt">Runkit demo</a></p>
<h1 class="mume-header" id="3-documentation">3. Documentation</h1>

<h2 class="mume-header" id="31-option">3.1 Option</h2>

<p>An option (singular) is part of an <code>options</code> (plural) member of the object (mySoft) you want Modulopt to be optionized with based on an array you designed called <a href="#32-definition">definitions</a>.</p>
<p>Some points are important to note here.</p>
<ul>
<li>When not specified, an option remains with its default value.</li>
<li>An option can have a number of possible values including its default value: <strong><a href="#3211-cardinality-12">cardinality</a></strong>.
<ul>
<li>The lowest cardinality <code>1:2</code>.
<ul>
<li>for a <strong>boolean</strong> option, you can have <code>true</code> or <code>false</code>.</li>
</ul>
</li>
<li>The finite cardinality <code>1:M</code>
<ul>
<li>The <strong>multi-option</strong> options have finite propositions regardless of whether all the propositions share the same type.</li>
</ul>
</li>
<li>The type semantic cardinality <code>1:&#x1A9;(T)</code>
<ul>
<li>for an <strong>half free</strong> option, the type of the default value (other than <code>null</code>) defines what value is expected. String =&gt; all possible String; an Number =&gt; all possible Number; an Object =&gt; any sub-Object of the structure.</li>
</ul>
</li>
<li>The maximum cardinality <code>1:N</code>
<ul>
<li>for a called <strong>free</strong> option, you are limited to the default (which is preferably given the <code>null</code> value) and a <em><strong>something</strong></em> value that can be anything but <code>undefined</code>.</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="mume-header" id="32-definition">3.2 Definition</h2>

<p>A definition is an array of values that will helps modulopt to generate a corresponding option. an definition looks like this :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// a definition</span>
<span class="token keyword keyword-const">const</span> definition1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;myOption1&quot;</span><span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// modulopt needs a list of all your definitions</span>
<span class="token keyword keyword-const">const</span> definitions <span class="token operator">=</span> <span class="token punctuation">[</span>
definition1<span class="token punctuation">,</span>
<span class="token spread operator">...</span>
<span class="token punctuation">]</span>
</pre><blockquote class="info withIcon">
While a definition could be an object, an array is more compact in terms of writing. So this is why you have to play with arrays &#xE0; lot when you have to create the collection of all your definitions.
</blockquote>
<h3 class="mume-header" id="321-structure">3.2.1 Structure</h3>

<p>Any option definition is following this template :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">    <span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token punctuation">]</span>
</pre><ul>
<li>(A) the <strong>first element</strong> is the name of the option.</li>
<li>(B) the <strong>second element</strong> (optional) is the default value or <em>fallback</em> in certain circumstances.</li>
<li>(C) the <strong>third element</strong> (optional) is the alternative choices for that option.</li>
</ul>
<blockquote class="danger withIcon">The building of the structure is tied to an order so you cannot interchange A with B or B with C etc.</blockquote>
<h4 class="mume-header" id="3211-cardinality-12">3.2.1.1 Cardinality 1:2</h4>

<p>The definitions entering in this category are boolean options. you can write them like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// the default or fallback</span>

<span class="token keyword keyword-const">const</span> boolOption <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><p>You should not provide any value for the C value or else that means you want to make a multi-option.</p>
<p>To trigger the creation of a <strong>boolean</strong> option, you have to provide a <strong>boolean</strong> (true or false) as the default <strong>B</strong> or else you will have a <strong>half-free</strong> option tied to the type of the default ( <a href="#3213-cardinality-1%CA%83t">cardinality 1:&#x1A9;(T)</a> ).</p>
<h4 class="mume-header" id="3212-cardinality-1m">3.2.1.2 Cardinality 1:M</h4>

<p>The definitions entering in this category are multi-option options. you can write them like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">;</span> <span class="token comment">// the default or fallback </span>
<span class="token keyword keyword-const">const</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">&quot;something&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;another thing&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;I don&apos;t know of something else&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> boolOption <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><p>You have to provide an <b>array</b> of elements preferably of the same type of the default <strong>B</strong> value or else that means you want to make a <strong>chimerical</strong> multi-option.</p>
<p>here is a chimerical multi-option example. Every proposition is of different types and certainly dont&apos;t mach the default null&apos;:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;star&quot;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span> <span class="token comment">// the default or fallback </span>
<span class="token keyword keyword-const">const</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Sun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">,</span> <span class="token string">&quot;John Cena&quot;</span> <span class="token punctuation">,</span> <span class="token parameter">x</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> <span class="token keyword keyword-new">new</span> <span class="token class-name">Pentagon</span><span class="token punctuation">(</span> x <span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> multiOption <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">,</span> <span class="token constant">C</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><blockquote class="idea withIcon">
Of course, you are not obliged to <i>stick</i> with strings or object, you can specify numbers also. There is no type check.
</blockquote>
<h4 class="mume-header" id="3213-cardinality-1%CA%83t">3.2.1.3 Cardinality 1:&#x1A9;(T)</h4>

<p>The definitions entering in this category are <strong>half-free</strong> options. you can write them like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token string">&quot;I don&apos;t know&quot;</span><span class="token punctuation">;</span> <span class="token comment">// the default or fallback OF TYPE STRING. It could also be a NUMBER</span>

<span class="token keyword keyword-const">const</span> halfFreeOption <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><p>You will be allowed to set the option with any string or any sub-object you give against. And if it was a number, you would be allowed to pass a defined number with <code>stick</code> to this option.</p>
<p>The purpose of this option is mostly to keep a bit of <strong>security</strong> or avoid some <strong>inconsistencies</strong> when you want to limit to a type match up without worrying.<br>
Of course, you can use a <strong>free</strong> option instead if you do not care about the input or want yourself to fully take care of validations...</p>
<p>These kind of options are special because they will trigger a type check when you are going to stick an option value to them. if you put a boolean or <code>null</code> instead as the default you will have either a :</p>
<ul>
<li>B is boolean : <strong><a href="#3211-cardinality-12">boolean option (cardinality 1:2)</a></strong></li>
<li>B is null : <em>totaly</em> <strong><a href="#3214-cardinality-1n">free option (cardinality 1:N)</a></strong>
<ul>
<li>B is null and you pass an array for C : <strong><a href="#3212-cardinality-1m">multi-option (cardinality 1:M)</a></strong></li>
</ul>
</li>
</ul>
<h5 class="mume-header" id="workaround">Workaround</h5>

<p>If you want to allow the option to be set none the less you have to play with the modulopt special definition and set the <code>mysteriousAffect</code> option to <code>true</code> :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> definitions <span class="token operator">=</span> <span class="token punctuation">[</span>
<span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// my half-free option&apos;s definition</span>
<span class="token punctuation">[</span> <span class="token string">&quot;modulopt&quot;</span> <span class="token punctuation">,</span> <span class="token punctuation">{</span> mysteriousAffect <span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">]</span>
<span class="token punctuation">]</span>
</pre><p>Doing so you end up with an <strong>free</strong> option but with the possibility of having a default that is not <code>null</code>.</p>
<p>See the documentation in the <strong><a href="#34-4miss-behaviors">4Miss</a></strong> section for more details.</p>
<h4 class="mume-header" id="3214-cardinality-1n">3.2.1.4 Cardinality 1:N</h4>

<p>The definitions entering in this category are <em>totaly</em> <strong>free</strong> options. you can write them like so:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">;</span>
<span class="token keyword keyword-const">const</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span> <span class="token comment">// the default or fallback </span>

<span class="token keyword keyword-const">const</span> freeOption <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><p>OR</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> freeOption <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token constant">A</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><p>You are not restricted by any type when you call stick and set the value.</p>
<blockquote class="idea withIcon">
This way of writing is more casual and why should you define a default value that is not restrictive? &quot;Nothing comes from nothing&quot; anyway.
</blockquote>
<p>You are expected to pass <code>null</code> and not <code>undefined</code> as the default here. Why is that so ? It is because modulopt is not designed to have undefined as a default value. Semantically, null can mean <code>not defined</code> at some point.</p>
<h2 class="mume-header" id="33-default-behaviors">3.3 Default behaviors</h2>

<p>Modulopt controls values that you can assign to your generated options configuration. so you do not end up with the wrong type value for an option or getting out of bounds for propositions.</p>
<p>Assuming this snippet:</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-let">let</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token operator">?</span>

<span class="token keyword keyword-let">let</span> <span class="token constant">D</span> <span class="token operator">=</span> <span class="token operator">?</span> <span class="token comment">// definitions</span>

<span class="token function">optionize</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token constant">D</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-let">let</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token operator">?</span>

<span class="token comment">// apply the desired value to foo</span>
<span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// </span>

<span class="token keyword keyword-let">let</span> <span class="token constant">C</span> <span class="token operator">=</span> mySoft<span class="token punctuation">.</span><span class="token property-access">options</span><span class="token punctuation">.</span><span class="token property-access">foo</span><span class="token punctuation">;</span>
</pre><ol>
<li>
<p><strong>Types are the same on half-free option : &#x2705; changes apply.</strong></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;Hello modulopt&quot;</span><span class="token punctuation">;</span>

<span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token constant">A</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo <span class="token operator">:</span> <span class="token string">&quot;It&apos;s over 9000 !!!&quot;</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// It&apos;s over 9000 !!!</span>
</pre><p>OR</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token constant">A</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo <span class="token operator">:</span> <span class="token number">9999</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// =&gt; 9999</span>
</pre></li>
<li>
<p><strong>Types mismatch on half-free option : &#x274E; default applyied.</strong></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">A</span> <span class="token operator">=</span> <span class="token number">151</span><span class="token punctuation">;</span>

<span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span> <span class="token operator">:</span> <span class="token constant">A</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo <span class="token operator">:</span> <span class="token string">&quot;It&apos;s over 9000 !!!&quot;</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// =&gt; 151</span>
</pre></li>
<li>
<p><strong>Proposition in bounds : &#x2705; changes apply.</strong></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;newcomer&quot;</span><span class="token punctuation">;</span>

<span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;frequentation&quot;</span> <span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">&quot;passenger&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;regular&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;addict&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> frequentation <span class="token operator">:</span> <span class="token string">&quot;regular&quot;</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// =&gt; regular</span>
</pre><p>OR</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">A</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;goodDay&quot;</span> <span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> goodDay <span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
</pre></li>
<li>
<p><strong>Proposition out of bound : &#x274E; the option fallbacks to the default value.</strong></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token string">&quot;newbee&quot;</span><span class="token punctuation">;</span>

<span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;level&quot;</span> <span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">&quot;normal&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;intermediate&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;hard&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> level <span class="token operator">:</span> <span class="token string">&quot;hardcore&quot;</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// =&gt; newbee</span>
</pre></li>
<li>
<p><strong>The value set for a free option is anything but <code>undefined</code> : &#x2705; the changes apply.</strong><br>
To set a free option, set the default to <code>null</code> like this :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">A</span> <span class="token operator">=</span> <span class="token keyword null nil keyword-null">null</span><span class="token punctuation">;</span>
<span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><p>OR just define a <strong>single value array</strong> :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">D</span> <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre> <blockquote class="idea withIcon">
This way of writing is more casual and why should you define a default value that is not restrictive? &quot;Nothing comes from nothing&quot; anyway.
</blockquote>
<p>THEN</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo <span class="token operator">:</span> <span class="token string">&quot;It&apos;s over 9000 !!!&quot;</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// It&apos;s over 9000 !!!</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo <span class="token operator">:</span> <span class="token number">9999</span><span class="token operator">+</span><span class="token number">1</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// 10 000</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo <span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span> <span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">foo</span> <span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token keyword control-flow keyword-return">return</span> <span class="token string">&quot;Vegeta said: \&quot;It&apos;s over nine thousand !!!\&quot;&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">,</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> <span class="token constant">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// Vegeta said: &quot;It&apos;s over nine thousand !!!&quot;</span>
</pre></li>
<li>
<p><strong>The value set for a free option is <code>undefined</code> : &#x274E; ! the option fallbacks to <code>null</code>.</strong></p>
<p><code>undefined</code> will result the <strong><code>null</code></strong> value. <strong><code>null</code></strong> is evaluated <strong><code>false</code></strong> as such as <strong><code>undefined</code></strong> and both undefined and null mean practically <em>nothing</em> even though there are little  <a href="https://stackoverflow.com/questions/5076944/what-is-the-difference-between-null-and-undefined-in-javascript">differences between null and undefined</a>.</p>
<blockquote class="info withIcon">
<b>Note:</b>
We do prefer null over undefined because there is no added value out of undefined testing ... in a practical case.
</blockquote>
</li>
</ol>
<h2 class="mume-header" id="34-4miss-behaviors">3.4 4Miss behaviors</h2>

<p>Since the <strong><code>V2.1</code></strong>, some configurations have been added to the generation!</p>
<p>Let&apos;s assume that your object using Modulopt of type <code>MySoft</code> is called <code>mySoft</code> and we are in the case of sticking an option. There will be a 4miss <strong>interaction</strong> targeting :</p>
<ol>
<li><strong>mismatch</strong> options<br>
when the target option is not existing on <code>mySoft.options</code>.</li>
<li><strong>misspelled</strong> propositions<br>
when the value of target multi option is not existing on <code>mySoft.options.myOption</code></li>
<li><strong>mysterious</strong> ( half-free option object )<br>
when you do want to set a <strong>half-free</strong> option value that is not matching the same type as the default value provided for the generation.</li>
<li><strong>mysteriousAffect</strong> ( let pass or not mysterious )<br>
On-off switch that allows you to let pass <strong>half-free</strong> incoming values that are considered <em>mysterious</em> in comparison to the default value of the half-free option.<br>
<strong>Note:</strong><br>
This does not affect the <strong>free</strong> options since they have to stay mutable in any case.</li>
</ol>
<h3 class="mume-header" id="341-example">3.4.1 Example</h3>

<ol>
<li>
<p>Define an object containing the options you want to send to Modulopt configuration.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> _4missAndMore <span class="token operator">=</span> <span class="token punctuation">{</span>
mismatch <span class="token operator">:</span> <span class="token string">&quot;throw&quot;</span><span class="token punctuation">,</span>
misspelled <span class="token operator">:</span> <span class="token string">&quot;ignore&quot;</span><span class="token punctuation">,</span>
mysterious <span class="token operator">:</span> <span class="token string">&quot;yell&quot;</span><span class="token punctuation">,</span>
mysteriousAffect <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

<span class="token comment">// other option for modulopt configuration here below...</span>
<span class="token punctuation">}</span>
</pre> <blockquote class="info withIcon">
As Modulopt is using its own mechanism to manage its own generation process, you can then define the set of options via the modulopt option definition like you would do when you call the stick function.
</blockquote>
</li>
<li>
<p>Create <code>definitions</code> for mySoft object with a modulopt special option.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// Example:</span>
<span class="token keyword keyword-const">const</span> definitions <span class="token operator">=</span> <span class="token punctuation">[</span>

<span class="token comment">// MySoft options below ...</span>
<span class="token comment">// here</span>

<span class="token comment">// special definition that configures modulopt behaviors on 4miss and option of mySoft generation</span>
<span class="token punctuation">[</span> <span class="token string">&quot;modulopt&quot;</span> <span class="token punctuation">,</span> _4missAndMore <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre> <blockquote class="info withIcon">
The modulopt definition within <code>definitions</code> will not be part of the final options for <code><b>mySoft</b></code> but will be processed by modulopt mechanism to set the <b>modulopt config options</b>. See <code><b>mySoft.modulopt.config.options</b></code> to see the effective options.
</blockquote>
</li>
<li>
<p>Finally, call <code>optionize</code>.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">optionize</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> definitions <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre></li>
</ol>
<p>Regarding the value set for <code>mismatch</code> or the other matching options, you can have different outcomes whenever you cannot find a matching reference or name etc..</p>
<table>
<thead>
<tr>
<th>verb</th>
<th>outcome</th>
<th>note</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>throw</code></td>
<td>Raise an exception</td>
<td></td>
</tr>
<tr>
<td><code>yell</code></td>
<td>Print out a message within a <code>console.error</code></td>
<td></td>
</tr>
<tr>
<td><code>warn</code></td>
<td>Print out a warning message within a <code>console.warn</code></td>
<td></td>
</tr>
<tr>
<td><code>info</code></td>
<td>Print out an info message within a <code>console.info</code></td>
<td></td>
</tr>
<tr>
<td><code>debug</code></td>
<td>Print out a message within a <code>console.log</code></td>
<td></td>
</tr>
<tr>
<td><code>report</code></td>
<td>Will write the error in the <code>obj.modulopt.logs</code> array</td>
<td>- Does not print out anything <br>- <code>Timestamp</code> added</td>
</tr>
<tr>
<td><code>&#xEC;gnore</code></td>
<td>Do not do anything</td>
<td>No side effect</td>
</tr>
</tbody>
</table>
<p>A 4Miss option takes effect whenever invoking the <strong>stick function</strong>. Interactions are noticeable only when <em>something</em> should happen in a <em>particular</em> case.</p>
<blockquote class="idea withIcon">
Only <code>mysteriousAffect</code> takes a boolean. But it will tell how the <code>mysterious</code> check has to behave.
</blockquote>
<h2 class="mume-header" id="35-advanced-modulopt-generated-configuration">3.5 [ ADVANCED ] Modulopt generated configuration</h2>

<p><strong>Note:</strong><br>
following sections are written to better understand the full mastery of modulopt. Knowing more is not essential to use modulopt ...</p>
<p>When you pass a boolean as the <code>third argument</code> of <code>optionize</code>, you can have the control on the hinting of what modulopt attaches to your object designed to have options. set this last one on <code>true</code>.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-const">const</span> hint <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token function">optionize</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token spread operator">...</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span> hint <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>You then will be printed with something like the following :</p>
<pre data-role="codeBlock" data-info="cmd" class="language-cmd"><code>modulopt configuration for the instance of &quot;MySoft&quot; (class) :
</code></pre><pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token punctuation">{</span>
<span class="token string">&quot;optionsOffset&quot;</span><span class="token operator">:</span> <span class="token spread operator">...</span> <span class="token punctuation">,</span>
<span class="token string">&quot;masks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token string">&quot;free&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token string">&quot;defaults&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><blockquote class="idea withIcon">
you can also see the configuration if you display the modulopt property attached to your object.
<code>console.log( mySoft.modulopt );</code>
</blockquote>
<h3 class="mume-header" id="351-masks">3.5.1 Masks</h3>

<p>Once you have generated modulopt configuration, you can apply desired values for your options in 2 ways.</p>
<ol>
<li>Using an object. This is the straightforward way.</li>
<li>Using a <strong>mask</strong>. This is for those who know the mapping of their options but it is short and handy</li>
</ol>
<p>Modulopt generates a match between <strong>an option and a binary place</strong> of registration when optionize has been called. This generation of masks follows some <strong>restrictions</strong>. In other words, assuming :</p>
<ul>
<li>cpt : progression in mask-option count;</li>
<li>bin : <code>f(cpt) = 2^cpt</code></li>
<li>order : <code>g(bin) = log2(bin)</code></li>
</ul>
<p>Candidates bin :<br>
first : 1 ; second : 2 ; third : 4 ; forth : 8 ;<br>
fifth : 16 ; sixth : 64 ; seventh : 128 ; etc. ...</p>
<p>You can help yourself by reading this article about binary the <a href="https://www.geeksforgeeks.org/binary-representation-of-a-given-number/">representation of a given number</a></p>
<h4 class="mume-header" id="3511-conventions-and-restrictions">3.5.1.1 Conventions and restrictions</h4>

<ul>
<li>Before <code>optionize</code> computes masks, all options are <strong>sorted</strong> in the alphabetical order so it is easier to guess the option binary assignation.  <blockquote class="danger withIcon">
(*no diacritics differences wise*).
</blockquote>
</li>
<li>Only <strong>boolean</strong> and <strong>multichoice</strong> options can be set by using a mask.</li>
</ul>
<h4 class="mume-header" id="3512-example">3.5.1.2 Example</h4>

<p>Let&apos;s say that we have only <strong>boolean</strong> options and want to set <strong>true</strong> on the <strong>first</strong> and <strong>fifth</strong> options. We can accomplish this like this then :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token string">&quot;0000.0002.0002&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>OR</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token string">&quot;000000020002&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>OR</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token string">&quot;2.0002&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>OR</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token string">&quot;20002&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>OR</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> <span class="token string">&quot;2.0.0.0.2...&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="3513-dots-and-digits-of-a-mask">3.5.1.3 Dots and digits of a mask</h4>

<p>You can notice that dots &quot;.&quot; in masks do not have an impact. They are stripped during the computation of an effective mask. their sole purpose is to provide a human-friendly representation.</p>
<p>(*) an effective mask is composed of <code>-</code> or <code>0</code> or <code>1</code>.</p>
<blockquote class="idea withIcon">
You will never manipulate an effective mask yourself.
</blockquote>
Know that if you have :
- `2`, it will give you a `1`.
It corresponds to `true` for boolean options or *`activate`* for a choice of a multichoice option.
- `1`, it will give you a `0`. It corresponds to `false` for boolean options or *`activate`* for a choice of a multichoice option.
- `0`, it will give you a `-`. It corresponds to *`keep default`* for both boolean and multichoice choice options.
<p><strong>Note:</strong><br>
To make the understanding of masks easier, let&apos;s go step by step. With next sections. Let&apos;s define our definitions starting with an empty array first.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token keyword keyword-let">let</span> definitions <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="3514-boolean-options-cases">3.5.1.4 Boolean options cases</h4>

<p>Every boolean option has an <code>offset</code> of 1 in the mask mapping.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">definitions <span class="token operator">=</span> definitions<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>

<span class="token comment">// first candidate =&gt; 1 =&gt; 0000.0001</span>
<span class="token punctuation">[</span> <span class="token string">&quot;bar&quot;</span> <span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// second =&gt; 2 =&gt; 0000.0010</span>
<span class="token punctuation">[</span> <span class="token string">&quot;displays&quot;</span> <span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>

<span class="token comment">// third =&gt; 4 =&gt; 0000.0100</span>
<span class="token punctuation">[</span> <span class="token string">&quot;foo&quot;</span> <span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">]</span>
<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><h4 class="mume-header" id="3515-multichoices-options-cases">3.5.1.5 Multichoices options cases</h4>

<p>Every multichoice option has an offset of <code>choices.length</code> in the mask mapping without counting the default value. <em>There is no debate around the fact that making no choice is considered a choice here. So it does not count...</em></p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">definitions <span class="token operator">=</span> definitions<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>
<span class="token punctuation">[</span> <span class="token string">&quot;level&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;none&quot;</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span>

    <span class="token comment">// forth =&gt; 8 =&gt; 0000.1000</span>
    <span class="token string">&quot;normal&quot;</span> <span class="token punctuation">,</span>

    <span class="token comment">// fifth =&gt; 16 =&gt; 0001.0000</span>
    <span class="token string">&quot;intermediate&quot;</span> <span class="token punctuation">,</span>

    <span class="token comment">// sixth =&gt; 64 =&gt; 0010.0000</span>
    <span class="token string">&quot;hard&quot;</span>
<span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">,</span>
<span class="token punctuation">[</span> <span class="token string">&quot;sort&quot;</span> <span class="token punctuation">,</span> <span class="token string">&quot;no&quot;</span> <span class="token punctuation">,</span> <span class="token punctuation">[</span>

    <span class="token comment">// seventh =&gt; 128 =&gt; 0100.0000</span>
    <span class="token string">&quot;asc&quot;</span> <span class="token punctuation">,</span>

    <span class="token comment">// eighth =&gt; 256 =&gt; 1000.0000</span>
    <span class="token string">&quot;dsc&quot;</span>
<span class="token punctuation">]</span> <span class="token punctuation">]</span>
<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p><strong>Note:</strong><br>
If you activate all bits covering one multichoice, only the first marching value will remain in the effective configuration for that option.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token comment">// all levels</span>
<span class="token keyword keyword-const">const</span> mask <span class="token operator">=</span> <span class="token string">&quot;11.1000&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// log2(8) =&gt; 3 first ! other will be discarded</span>
<span class="token comment">// log2(16) =&gt; 4</span>
<span class="token comment">// log2(64) =&gt; 5</span>

<span class="token function">stick</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> mask <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span> mySoft<span class="token punctuation">.</span><span class="token property-access">options</span><span class="token punctuation">.</span><span class="token property-access">level</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// =&gt; normal</span>
</pre><h3 class="mume-header" id="352-check-on-masks-registration">3.5.2 Check on masks registration</h3>

<p>When you call optionize, with <code>true</code> on the third argument, you can visualize masks. You can notice the default values in the <code>defaults</code> property.</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript">definitions <span class="token operator">=</span> <span class="token punctuation">[</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// our boolean options</span>
definitions <span class="token operator">=</span> definitions<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token spread operator">...</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// our multichoice options</span>
definitions <span class="token operator">=</span> definitions<span class="token punctuation">.</span><span class="token method function property-access">concat</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token spread operator">...</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword keyword-const">const</span> hintConfiguration <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// the last argument is optional. Its value is false by default</span>
<span class="token function">optionize</span><span class="token punctuation">(</span> mySoft <span class="token punctuation">,</span> definitions <span class="token punctuation">,</span> hintConfiguration <span class="token punctuation">)</span><span class="token punctuation">;</span>
</pre><p>This will output :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token punctuation">{</span>
<span class="token string">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;modulopt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;optionsOffset&quot;</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
    <span class="token string">&quot;masks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;mismatch&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;0000.0000.0000.0000.0000.0001&quot;</span><span class="token operator">:</span> <span class="token string">&quot;throw&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;0000.0000.0000.0000.0000.0010&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yell&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;0000.0000.0000.0000.0000.0100&quot;</span><span class="token operator">:</span> <span class="token string">&quot;inform&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;0000.0000.0000.0000.0000.1000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;warn&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;0000.0000.0000.0000.0001.0000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;debug&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;0000.0000.0000.0000.0010.0000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;report&quot;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;misspelled&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;mysterious&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;0000.0100.0000.0000.0000.0000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mysteriousAffect&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;free&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;defaults&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;mismatch&quot;</span><span class="token operator">:</span> <span class="token string">&quot;throw&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;misspelled&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ignore&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;mysterious&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ignore&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;mysteriousAffect&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token string">&quot;asc&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>

<span class="token string">&quot;optionsOffset&quot;</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
<span class="token string">&quot;masks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;level&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;0000.1000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;normal&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;0001.0000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;intermediate&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;0010.0000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;hard&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;0100.0000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;asc&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;1000.0000&quot;</span><span class="token operator">:</span> <span class="token string">&quot;dsc&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0000.0001&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0000.0010&quot;</span><span class="token operator">:</span> <span class="token string">&quot;displays&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;0000.0100&quot;</span><span class="token operator">:</span> <span class="token string">&quot;foo&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token string">&quot;logs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token string">&quot;free&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token string">&quot;defaults&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;bar&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">&quot;displays&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token string">&quot;foo&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token string">&quot;level&quot;</span><span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;sort&quot;</span><span class="token operator">:</span> <span class="token string">&quot;no&quot;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><h2 class="mume-header" id="36-modulopt-property">3.6 Modulopt property</h2>

<p>This property attached to your object contains everything that modulopt needs to work.</p>
<h3 class="mume-header" id="361-optionsoffset">3.6.1 OptionsOffset</h3>

<p>This property is used to store the maximum offset used by masks and pad every mask with a good amount of zeros <code>0</code>. so masks can be represented properly with a dot every 4th digit.</p>
<h3 class="mume-header" id="362-masks">3.6.2 Masks</h3>

<p>This can display which option has which mask. If possible.</p>
<h3 class="mume-header" id="363-logs">3.6.3 Logs</h3>

<p>This will contain the logging about modulopt. So you can be aware of mismatching options for example.</p>
<h3 class="mume-header" id="364-free">3.6.4 Free</h3>

<p>Stores every <strong>free</strong> or <strong>half-free</strong> option and the type of its default value. Therefore you can see what kind of value you are supposed to use with a specific <strong>half-free</strong> option.</p>
<h3 class="mume-header" id="365-defaults">3.6.5 Defaults</h3>

<p>Stores all defaults values.</p>
<h3 class="mume-header" id="367-config-and-options">3.6.7 Config and options</h3>

<p>This field holds another modulopt property. but this one is used to helps you managing how options are generated, 4miss behaviors and more...</p>
<p>it is generated like so :</p>
<pre data-role="codeBlock" data-info="js" class="language-javascript"><span class="token string">&quot;config&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
<span class="token string">&quot;modulopt&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;optionsOffset&quot;</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
    <span class="token string">&quot;masks&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;free&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string">&quot;defaults&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token string">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token spread operator">...</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</pre><p>See</p>
<ul>
<li><code>mySoft.modulopt.config.options</code> to check the effective options.</li>
<li><code>mySoft.modulopt.config.modulopt.defaults</code> to check the default values and fallbacks to modulopt centric options.</li>
<li><code>mySoft.modulopt.config.options.sort</code> or <code>mySoft.modulopt.config.modulopt.defaults.sort</code> to check the order of options generation. <code>&quot;no&quot;</code> means keep option in the order they apear. It is important if you need to play with masks or if you just want to...</li>
</ul>

  </div>











</body></html>
